import{u as N,i as g,a as $,r,c as m,b as e,d as i,w as h,e as B,t as _,f as I,g as o,h as v,n as M,j as u,o as w}from"./index-BC6Xn69q.js";const O={class:"bg-blue-700 overflow-hidden select-none bg-center flex items-center justify-center overflow-hidden bg-no-repeat bg-cover md:bg-[url('/public/login_background.jpg')] min-h-screen min-w-screen"},P={class:"w-[400px] rounded-[20px] overflow-hidden pb-[60px] bg-white"},V={class:"h-[250px] relative bg-blue-600 bg-no-repeat bg-cover bg-[url('/public/wp-create-user.png')]"},A=["src"],J={class:"absolute text-white select-none text-[28px] flex items-center gap-1 top-[10px] left-[10px] font-semibold"},R=e("span",{class:"text-[13px] rotate-45 duration-100"},[e("i",{class:"fas fa-square"})],-1),T={class:"bottom-[5px] absolute text-center w-[400px] text-[10px] text-white"},U={class:"text-center mt-3 text-[17px] font-bold"},q={class:"w-[90%] mx-auto flex justify-center gap-3 mt-4 items-center"},D=e("label",{for:"login",class:"text-blue-600"},[e("i",{class:"fas fa-user-large"})],-1),K={class:"w-[70%]"},Y={class:"w-[90%] mx-auto flex justify-center gap-3 mt-4 items-center"},F=e("label",{for:"password",class:"text-blue-600"},[e("i",{class:"fas fa-key"})],-1),G={class:"w-[70%]"},H=["disabled"],Q={key:0},W={key:1},X=e("i",{class:"fas fa-spinner animate-spin"},null,-1),Z=[X],se={__name:"login",setup(ee){const c=N(),{t:d}=g.global,x=$(),b=r("success"),f=r("success");let n=r("jamshid14092002@gmail.com"),a=r("!Jamshid14092002"),s=r(!1),y=[{label:"O'zb",key:"uz"},{label:"En",key:"en"}];function k(t){if(String(t)=="en")return localStorage.setItem("lang","en"),g.global.locale="en";if(String(t)=="uz")return localStorage.setItem("lang","uz"),g.global.locale="uz"}async function S(){if(!a.value)return b.value="error",c.warning(d("enteryourlogin"));if(!a.value)return f.value="error",c.warning(d("enteryourpassword"));try{s.value=!0;let t=await fetch(`${window.base}/admin/login`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:n.value,password:a.value})});if(t.status==401){b.value="error",f.value="error",c.error(d("errorLoginPassword")),n.value="",a.value="",s.value=!1;return}if(t.status==200){s.value=!1,t=await t.json(),console.log(t.token),localStorage.setItem("token",t.token),x.push("/admin");return}}catch{c.info(d("errorCatchLogin")),s.value=!1}}return(t,p)=>{const j=u("n-button"),z=u("n-dropdown"),L=u("n-space"),C=u("n-auto-complete"),E=u("n-input");return w(),m("div",O,[e("div",P,[e("div",V,[i(L,{class:"absolute right-4 top-4"},{default:h(()=>[i(z,{trigger:"hover",options:o(y),onSelect:k},{default:h(()=>[i(j,null,{default:h(()=>[e("img",{src:o(g).global.locale=="uz"?"../../../public/1670868198_grizly-club-p-flag-uzbekistana-png-9.png":"../../../public/EM7LidKw8aA.jpg",class:"w-[25px]",lt:""},null,8,A)]),_:1})]),_:1},8,["options"])]),_:1}),e("span",J,[R,B(" "+_(t.$t("Airleet")),1)]),e("span",T,_(t.$t("Login_dectiption")),1)]),e("form",{onSubmit:I(S,["prevent"])},[e("div",U,_(t.$t("Login")),1),e("div",q,[D,e("div",K,[i(C,{disabled:o(s),status:b.value,value:o(n),"onUpdate:value":p[0]||(p[0]=l=>v(n)?n.value=l:n=l),id:"login",type:"text",placeholder:t.$t("EnterYourLogin")},null,8,["disabled","status","value","placeholder"])])]),e("div",Y,[F,e("div",G,[i(E,{disabled:o(s),type:"password","show-password-on":"mousedown",placeholder:"Password",maxlength:100,status:f.value,value:o(a),"onUpdate:value":p[1]||(p[1]=l=>v(a)?a.value=l:a=l),id:"password"},null,8,["disabled","status","value","placeholder"])])]),e("button",{disabled:!!o(s),class:M([o(s)?"bg-blue-400 animate-bounce":"bg-blue-600","text-white rounded-sm mx-auto block mt-5 w-[70%] h-[30px]"])},[o(s)?(w(),m("span",W,Z)):(w(),m("span",Q,_(t.$t("loginbutton")),1))],10,H)],32)])])}}};export{se as default};
